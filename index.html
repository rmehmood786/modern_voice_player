<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aurora Voice Player - Enhanced</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="assets/styles.css" />
 

</head>
<body>
  <div id="dim" class="overlay-dim"></div>

  <nav class="nav">
    <div class="brand"><span>üéß</span><span>Aurora Voice Player</span></div>
    <div class="nav-right">
      <label class="row" style="gap:8px"><input id="speechToggle" type="checkbox" /><span>Speech input</span></label>
      <label class="row" style="gap:8px"><input id="micToggle" type="checkbox" /><span>Mic ducking</span></label>
      <button id="install" class="chip">Install</button>
    </div>
  </nav>

  <main class="container">
    <section class="card">
      <div class="card-h">
        <h1 class="h1">Aurora Voice Player</h1>
        <span class="badge" id="modeBadge">Web App</span>
      </div>

      <div class="grid-main">
        <!-- LEFT: Stage -->
        <div class="now">
          <div class="player-shell">
            <div class="player-wrap" id="playerWrap" aria-label="Player">

              <!-- YouTube stage -->
              <div id="ytStage" class="stage hidden">
                <div id="ytMount"></div>
                <button id="unmuteYT" class="unmute hidden" title="Unmute">Unmute üîä</button>
              </div>

              <!-- Local video stage -->
              <div id="videoStage" class="stage hidden">
                <video id="localVideo" playsinline></video>
                <button id="unmuteVID" class="unmute hidden" title="Unmute">Unmute üîä</button>
              </div>

              <!-- Local audio stage (card replaces the video/iframe) -->
              <div id="audioStage" class="stage hidden">
                <img id="audioCover" class="cover" alt="Artwork" />
                <div class="audio-overlay">
                  <div class="audio-row">
                    <button id="bigPrev" class="btn icon">‚èÆÔ∏è</button>
                    <button id="bigPlay" class="btn primary">Play</button>
                    <button id="bigNext" class="btn icon">‚è≠Ô∏è</button>
                  </div>
                </div>
                <button id="unmuteAUD" class="unmute hidden" title="Unmute">Unmute üîä</button>
              </div>

            </div>
          </div>

          <!-- Visualizer (auto-hidden for YT) -->
          <canvas id="viz" aria-label="Visualization"></canvas>

          <!-- Meta -->
          <div class="title truncate" id="trackTitle">‚Äî</div>
          <div class="sub truncate" id="trackSub">‚Äî</div>

          <!-- Transport -->
          <div class="controls">
            <div class="btn-group">
              <button id="prev" class="btn icon" title="Shift+Left">‚èÆÔ∏è</button>
              <button id="rew"  class="btn icon" title="Left (‚Äì30s)">‚è™</button>
              <button id="play" class="btn primary" title="Space">Play</button>
              <button id="fwd"  class="btn icon" title="Right (+30s)">‚è©</button>
              <button id="next" class="btn icon" title="Shift+Right">‚è≠Ô∏è</button>
            </div>

            <div class="btn-group">
              <select id="rate" class="btn ghost" title="Playback speed">
                <option value="0.5">0.5√ó</option><option value="0.75">0.75√ó</option>
                <option value="1" selected>1.0√ó</option>
                <option value="1.25">1.25√ó</option><option value="1.5">1.5√ó</option>
                <option value="1.75">1.75√ó</option><option value="2">2.0√ó</option>
              </select>

              <select id="sleep" class="btn ghost" title="Sleep timer">
                <option value="0">Sleep: off</option>
                <option value="5">5 min</option><option value="15">15 min</option>
                <option value="30">30 min</option><option value="60">60 min</option>
              </select>

              <button id="theater" class="btn ghost" title="Theater mode">Theater</button>
              <button id="share" class="btn ghost" title="Copy timestamp link">Share ‚è±Ô∏è</button>
            </div>
          </div>

          <div class="seek">
            <span id="tCur">00:00</span>
            <input id="seek" type="range" min="0" max="1000" value="0"/>
            <span id="tDur">00:00</span>
          </div>

          <div class="sliders">
            <label class="slider"><span>Volume</span><input id="vol" type="range" min="0" max="100" value="85"/></label>
            <label class="slider"><span>Ducking</span><input id="duck" type="range" min="20" max="100" value="35"/></label>
          </div>

          <div class="controls">
            <div class="btn-group">
              <button id="setA" class="btn good">Set A</button>
              <button id="setB" class="btn good">Set B</button>
              <button id="toggleAB" class="btn warn">A‚ÄìB: OFF</button>
              <button id="addMark" class="btn ghost">+ Bookmark</button>
            </div>
            <div class="btn-group">
              <label><input id="repeat" type="checkbox"/> Repeat</label>
              <label><input id="shuffle" type="checkbox" checked/> Shuffle</label>
              <span id="status" class="status">Loading‚Ä¶</span>
              <span id="micPill" class="pill">mic: off</span>
            </div>
          </div>

          <!-- Mini (mobile) -->
          <div class="mini row" style="justify-content:space-between;margin-top:12px">
            <div class="row" style="gap:10px">
              <strong class="truncate" id="miniTitle" style="max-width:320px">‚Äî</strong>
              <span class="status" id="miniSub">‚Äî</span>
            </div>
            <div class="row">
              <button id="miniPrev" class="btn icon">‚èÆÔ∏è</button>
              <button id="miniPlay" class="btn primary">Play</button>
              <button id="miniNext" class="btn icon">‚è≠Ô∏è</button>
            </div>
          </div>
        </div>

        <!-- RIGHT: Panels -->
        <aside class="sidebar">
          <div class="side-card">
            <h3 class="side-h">Queue & Playlist</h3>
            <div class="tools">
              <button id="addYT" class="btn">üì∫ Add YouTube</button>
              <label><input id="addLocal" type="file" accept="audio/*,video/*" multiple style="display:none"/><span class="btn">üéµ Add Local</span></label>
              <button id="saveList" class="btn">üíæ Save</button>
              <button id="clearList" class="btn warn">üßπ Clear</button>
            </div>
            <ul id="list" class="playlist" aria-label="Playlist (drag to reorder)"></ul>
          </div>

          <div class="side-card">
            <h3 class="side-h">Bookmarks & Chapters</h3>
            <div id="marksList" class="marks"></div>
          </div>

          <div class="side-card">
            <h3 class="side-h">Shortcuts</h3>
            <div class="fx-grid">
              <div><strong>Space</strong><br/><span class="status">Play / Pause</span></div>
              <div><strong>‚Üí / ‚Üê</strong><br/><span class="status">Seek ¬±5s</span></div>
              <div><strong>Shift+‚Üí / ‚Üê</strong><br/><span class="status">Next / Prev</span></div>
              <div><strong>S</strong><br/><span class="status">Set A</span></div>
              <div><strong>D</strong><br/><span class="status">Set B</span></div>
              <div><strong>F</strong><br/><span class="status">Toggle A‚ÄìB</span></div>
            </div>
          </div>

          <div class="side-card">
            <h3 class="side-h">Audio FX</h3>
            <div class="tools">
              <button class="btn ghost" data-eq="flat">Flat</button>
              <button class="btn ghost" data-eq="bass">Bass Boost</button>
              <button class="btn ghost" data-eq="vocal">Vocal Boost</button>
            </div>
            <p class="status">FX applies to <strong>local files</strong> only.</p>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <div id="toast" class="toast"></div>

  <script src="assets/app.js"></script>
  <script>
    // Simple toast notification function
    function toast(msg) {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(() => t.classList.remove('show'), 1300);
    }

    // Add some visual feedback for buttons
    document.querySelectorAll('.btn').forEach(btn => {
      btn.addEventListener('click', function() {
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
          this.style.transform = '';
        }, 100);
      });
    });

    // Add hover effect to playlist items
    document.addEventListener('DOMContentLoaded', function() {
      // This would be handled by your existing JavaScript
      // We're just adding some visual improvements here
      toast('Aurora Voice Player Loaded');
    });
  </script>
</body>
</html>

